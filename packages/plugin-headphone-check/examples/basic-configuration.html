<!DOCTYPE html>
<html>

<head>
  <script src="https://unpkg.com/jspsych@8"></script>
  <script src="https://unpkg.com/@jspsych/plugin-preload@2"></script>
  <script src="../dist/index.browser.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/jspsych/css/jspsych.css">
</head>

<body></body>
<script>
  const jsPsych = initJsPsych({
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });

  const preload = {
    type: jsPsychPreload,
    auto_preload: true
  }

  // this trial uses the default configuration described in the original headphonecheck
  // https://github.com/mcdermottLab/HeadphoneCheck?tab=readme-ov-file#configure-and-start-the-headphone-check
  // note sequential + sampleWithReplacement are defined: their default values are false.
  const trial = {
    type: jsPsychHeadphoneCheck,
    stimuli: ["./audio/antiphase_HC_ISO.wav", "./audio/antiphase_HC_IOS.wav", "./audio/antiphase_HC_SOI.wav", "./audio/antiphase_HC_SIO.wav", "./audio/antiphase_HC_OSI.wav", "./audio/antiphase_HC_OIS.wav"],
    correct: [2, 3, 1, 1, 2, 3],
    calibration_stimulus: "./audio/noise_calib_stim.wav",
    sequential: true,
    sampleWithReplacement: true
  };

  jsPsych.run([preload, trial])
</script>

</html>